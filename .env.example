# ============================================
# ARCHIVO DE EJEMPLO DE VARIABLES DE ENTORNO
# Copiar a .env y modificar valores
# ============================================

# ============================================
# ENTORNO
# ============================================
APP_ENV=development  # development, staging, production
DEBUG=False

# ============================================
# BASE DE DATOS - PostgreSQL
# ============================================
# URL principal (escritura)
DATABASE_URL=postgresql://gestion_camas:CHANGE_PASSWORD_HERE@postgres:5432/gestion_camas_db

# URL de réplica (lectura - opcional)
# Descomentar si se usa réplica
# DATABASE_READ_REPLICA_URL=postgresql://gestion_camas:CHANGE_PASSWORD_HERE@postgres_replica:5432/gestion_camas_db

# Pool de conexiones
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600
DB_POOL_PRE_PING=True
DB_ECHO=False

# Credenciales PostgreSQL (para docker-compose)
POSTGRES_USER=gestion_camas
POSTGRES_PASSWORD=CHANGE_PASSWORD_HERE
POSTGRES_DB=gestion_camas_db
POSTGRES_PORT=5432
POSTGRES_REPLICA_PORT=5433

# ============================================
# REDIS - Caché
# ============================================
REDIS_URL=redis://:CHANGE_REDIS_PASSWORD@redis:6379/0
REDIS_PASSWORD=CHANGE_REDIS_PASSWORD
REDIS_CACHE_TTL=300
REDIS_ENABLED=True
REDIS_PORT=6379

# ============================================
# SEGURIDAD - JWT
# ============================================
# IMPORTANTE: Generar un secret key seguro con:
# python -c "import secrets; print(secrets.token_urlsafe(64))"
JWT_SECRET_KEY=CHANGE_THIS_TO_A_VERY_LONG_RANDOM_STRING_IN_PRODUCTION
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# ============================================
# CORS - Orígenes Permitidos
# ============================================
# Separar múltiples orígenes con comas
CORS_ORIGINS=http://localhost:5173,http://localhost:3000,https://gestion-camas.hospital.cl

# ============================================
# MULTI-TENANCY
# ============================================
ENABLE_MULTI_TENANCY=True
DEFAULT_TENANT_ID=
TENANT_HEADER_NAME=X-Hospital-ID

# ============================================
# API GATEWAY - Microservicios
# ============================================
# API Keys internas (separar con comas)
INTERNAL_API_KEYS=key1,key2,key3
API_KEY_HEADER_NAME=X-API-Key

# URLs de microservicios externos (opcional)
HIS_API_URL=
LABORATORIO_API_URL=
IMAGENOLOGIA_API_URL=
FARMACIA_API_URL=

EXTERNAL_API_TIMEOUT=10
EXTERNAL_API_RETRIES=3

# ============================================
# RATE LIMITING
# ============================================
RATE_LIMIT_ENABLED=True
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_LOGIN_PER_MINUTE=5
RATE_LIMIT_API_PUBLIC_PER_MINUTE=20

# ============================================
# SSL/TLS (Producción)
# ============================================
FORCE_HTTPS=False
SSL_CERT_PATH=
SSL_KEY_PATH=

# ============================================
# ARCHIVOS
# ============================================
UPLOAD_DIR=uploads
MAX_UPLOAD_SIZE=10485760
ALLOWED_EXTENSIONS=.pdf

# ============================================
# PROCESOS AUTOMÁTICOS
# ============================================
PROCESO_AUTOMATICO_INTERVALO=5
TIEMPO_LIMPIEZA_DEFAULT=60
TIEMPO_ESPERA_OXIGENO_DEFAULT=120

# ============================================
# WEBSOCKET
# ============================================
WS_RECONNECT_INTERVAL=3
WS_MAX_RECONNECT_ATTEMPTS=10

# ============================================
# LOGGING
# ============================================
LOG_LEVEL=INFO
LOG_FORMAT="%(asctime)s | %(levelname)-8s | %(name)s | %(message)s"

# ============================================
# SEGURIDAD - Contraseñas
# ============================================
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=True
PASSWORD_REQUIRE_LOWERCASE=True
PASSWORD_REQUIRE_DIGIT=True
PASSWORD_REQUIRE_SPECIAL=False
MAX_LOGIN_ATTEMPTS=5
LOGIN_LOCKOUT_MINUTES=15

# ============================================
# DOCKER - FRONTEND
# ============================================
FRONTEND_PORT=5173
VITE_API_URL=http://localhost:8000
VITE_WS_URL=ws://localhost:8000

# ============================================
# DOCKER - BACKEND
# ============================================
BACKEND_PORT=8000

# ============================================
# PGADMIN
# ============================================
PGADMIN_EMAIL=admin@hospital.cl
PGADMIN_PASSWORD=admin
PGADMIN_PORT=5050
